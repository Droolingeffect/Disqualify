<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mzyka - Search</title>

    <!-- FontAwesome & Google Fonts -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/MzykaWeb/Home/COMBINED.CSS" />
    <link rel="stylesheet" href="search.css" />
  </head>
  <body>
    <header class="header">
      <a href="/MzykaWeb/home.html" class="logo">Mzykaa</a>
      <input type="checkbox" id="menu-toggle" />
      <label for="menu-toggle" class="menu-icon">
        <span class="fa fa-bars"></span>
      </label>
      <nav class="navbar">
        <div class="navbar-top">
          <a href="/MzykaWeb/home.html"><i class="fa fa-home"></i> Home</a>
          <a href="/MzykaWeb/Search/search.html"
            ><i class="fa fa-search"></i> Search</a
          >
          <a href="/MzykaWeb/Library/Library.html"
            ><i class="fa fa-folder"></i> Playlist</a
          >
        </div>
        <div class="navbar-bottom">
          <a href="/MzykaWeb/Settings/settings.html"
            ><i class="fa fa-cog"></i> Settings</a
          >
          <a href="/MzykaWeb/Accountpage/accountpage.html"
            ><i class="fa fa-user-circle"></i> Account</a
          >
          <a href="/MzykaWeb/Login/login.html"
            ><i class="fa fa-sign-out"></i> Logout</a
          >
        </div>
      </nav>
    </header>

    <!-- Main Content Area -->
    <div class="main-content">
      <section class="search-section">
        <h1>Find Your Music</h1>
        <div class="search-bar">
          <input
            type="text"
            id="searchInput"
            placeholder="Search songs, artists, albums..."
          />
          <button onclick="handleSearch()">Search</button>
        </div>

        <div id="results" class="results"></div>

        <div id="noResults" class="no-results" style="display: none">
          No matching results found. Showing top genres instead.
        </div>

        <div class="categories" id="genreFallback">
          <div class="category-card pink" onclick="goToGenre('Pop')">Pop</div>
          <div class="category-card blue" onclick="goToGenre('Hip-Hop')">
            Hip-Hop
          </div>
          <div class="category-card orange" onclick="goToGenre('Country')">
            Country
          </div>
          <div class="category-card green" onclick="goToGenre('Indie')">
            Indie
          </div>
          <div class="category-card purple" onclick="goToGenre('R&B')">R&B</div>
          <div class="category-card yellow" onclick="goToGenre('Charts')">
            Charts
          </div>
          <div class="category-card pink" onclick="goToGenre('K-Pop')">
            K-Pop
          </div>
          <div class="category-card blue" onclick="goToGenre('Alternative')">
            Alternative
          </div>
          <div class="category-card orange" onclick="goToGenre('Sleep')">
            Sleep
          </div>
          <div class="category-card green" onclick="goToGenre('Latin')">
            Latin
          </div>
        </div>
      </section>
    </div>

    <!-- Scripts -->
    <script>
      function showCategories() {
        const searchValue = document.getElementById("searchInput").value.trim();
        const categories = document.getElementById("categories");
        if (searchValue !== "") {
          categories.style.display = "grid";
        } else {
          categories.style.display = "none";
          alert("Please type something to search!");
        }
      }

      function goToGenre(genre) {
        localStorage.setItem("selectedGenre", genre);
        window.location.href = "genre.html";
      }

      function toggleTheme() {
        document.body.classList.toggle("lightmode");
        const theme = document.body.classList.contains("lightmode")
          ? "light"
          : "dark";
        localStorage.setItem("myzykaSettings", JSON.stringify({ theme }));
      }

      document.addEventListener("DOMContentLoaded", function () {
        const savedSettings = JSON.parse(
          localStorage.getItem("myzykaSettings")
        );
        if (savedSettings && savedSettings.theme === "light") {
          document.body.classList.add("lightmode");
        }
      });
    </script>
  </body>
</html>